{
  "version": 3,
  "sources": ["../../@lexical/react/LexicalCollaborationPlugin.dev.mjs"],
  "sourcesContent": ["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport { useCollaborationContext } from '@lexical/react/LexicalCollaborationContext';\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\nimport { initLocalState, syncLexicalUpdateToYjs, TOGGLE_CONNECT_COMMAND, setLocalStateFocus, createUndoManager, CONNECTED_COMMAND, syncCursorPositions, syncYjsChangesToLexical, createBinding } from '@lexical/yjs';\nimport * as React from 'react';\nimport { useRef, useCallback, useEffect, useMemo, useState } from 'react';\nimport { mergeRegister } from '@lexical/utils';\nimport { COMMAND_PRIORITY_EDITOR, FOCUS_COMMAND, BLUR_COMMAND, UNDO_COMMAND, REDO_COMMAND, CAN_UNDO_COMMAND, CAN_REDO_COMMAND, $getRoot, $createParagraphNode, $getSelection } from 'lexical';\nimport { createPortal } from 'react-dom';\nimport { UndoManager } from 'yjs';\nimport { jsx, Fragment } from 'react/jsx-runtime';\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction useYjsCollaboration(editor, id, provider, docMap, name, color, shouldBootstrap, binding, setDoc, cursorsContainerRef, initialEditorState, awarenessData) {\n  const isReloadingDoc = useRef(false);\n  const connect = useCallback(() => provider.connect(), [provider]);\n  const disconnect = useCallback(() => {\n    try {\n      provider.disconnect();\n    } catch (e) {\n      // Do nothing\n    }\n  }, [provider]);\n  useEffect(() => {\n    const {\n      root\n    } = binding;\n    const {\n      awareness\n    } = provider;\n    const onStatus = ({\n      status\n    }) => {\n      editor.dispatchCommand(CONNECTED_COMMAND, status === 'connected');\n    };\n    const onSync = isSynced => {\n      if (shouldBootstrap && isSynced && root.isEmpty() && root._xmlText._length === 0 && isReloadingDoc.current === false) {\n        initializeEditor(editor, initialEditorState);\n      }\n      isReloadingDoc.current = false;\n    };\n    const onAwarenessUpdate = () => {\n      syncCursorPositions(binding, provider);\n    };\n    const onYjsTreeChanges = (events, transaction) => {\n      const origin = transaction.origin;\n      if (origin !== binding) {\n        const isFromUndoManger = origin instanceof UndoManager;\n        syncYjsChangesToLexical(binding, provider, events, isFromUndoManger);\n      }\n    };\n    initLocalState(provider, name, color, document.activeElement === editor.getRootElement(), awarenessData || {});\n    const onProviderDocReload = ydoc => {\n      clearEditorSkipCollab(editor, binding);\n      setDoc(ydoc);\n      docMap.set(id, ydoc);\n      isReloadingDoc.current = true;\n    };\n    provider.on('reload', onProviderDocReload);\n    provider.on('status', onStatus);\n    provider.on('sync', onSync);\n    awareness.on('update', onAwarenessUpdate);\n    // This updates the local editor state when we recieve updates from other clients\n    root.getSharedType().observeDeep(onYjsTreeChanges);\n    const removeListener = editor.registerUpdateListener(({\n      prevEditorState,\n      editorState,\n      dirtyLeaves,\n      dirtyElements,\n      normalizedNodes,\n      tags\n    }) => {\n      if (tags.has('skip-collab') === false) {\n        syncLexicalUpdateToYjs(binding, provider, prevEditorState, editorState, dirtyElements, dirtyLeaves, normalizedNodes, tags);\n      }\n    });\n    const connectionPromise = connect();\n    return () => {\n      if (isReloadingDoc.current === false) {\n        if (connectionPromise) {\n          connectionPromise.then(disconnect);\n        } else {\n          // Workaround for race condition in StrictMode. It's possible there\n          // is a different race for the above case where connect returns a\n          // promise, but we don't have an example of that in-repo.\n          // It's possible that there is a similar issue with\n          // TOGGLE_CONNECT_COMMAND below when the provider connect returns a\n          // promise.\n          // https://github.com/facebook/lexical/issues/6640\n          disconnect();\n        }\n      }\n      provider.off('sync', onSync);\n      provider.off('status', onStatus);\n      provider.off('reload', onProviderDocReload);\n      awareness.off('update', onAwarenessUpdate);\n      root.getSharedType().unobserveDeep(onYjsTreeChanges);\n      docMap.delete(id);\n      removeListener();\n    };\n  }, [binding, color, connect, disconnect, docMap, editor, id, initialEditorState, name, provider, shouldBootstrap, awarenessData, setDoc]);\n  const cursorsContainer = useMemo(() => {\n    const ref = element => {\n      binding.cursorsContainer = element;\n    };\n    return /*#__PURE__*/createPortal(/*#__PURE__*/jsx(\"div\", {\n      ref: ref\n    }), cursorsContainerRef && cursorsContainerRef.current || document.body);\n  }, [binding, cursorsContainerRef]);\n  useEffect(() => {\n    return editor.registerCommand(TOGGLE_CONNECT_COMMAND, payload => {\n      const shouldConnect = payload;\n      if (shouldConnect) {\n        // eslint-disable-next-line no-console\n        console.log('Collaboration connected!');\n        connect();\n      } else {\n        // eslint-disable-next-line no-console\n        console.log('Collaboration disconnected!');\n        disconnect();\n      }\n      return true;\n    }, COMMAND_PRIORITY_EDITOR);\n  }, [connect, disconnect, editor]);\n  return cursorsContainer;\n}\nfunction useYjsFocusTracking(editor, provider, name, color, awarenessData) {\n  useEffect(() => {\n    return mergeRegister(editor.registerCommand(FOCUS_COMMAND, () => {\n      setLocalStateFocus(provider, name, color, true, awarenessData || {});\n      return false;\n    }, COMMAND_PRIORITY_EDITOR), editor.registerCommand(BLUR_COMMAND, () => {\n      setLocalStateFocus(provider, name, color, false, awarenessData || {});\n      return false;\n    }, COMMAND_PRIORITY_EDITOR));\n  }, [color, editor, name, provider, awarenessData]);\n}\nfunction useYjsHistory(editor, binding) {\n  const undoManager = useMemo(() => createUndoManager(binding, binding.root.getSharedType()), [binding]);\n  useEffect(() => {\n    const undo = () => {\n      undoManager.undo();\n    };\n    const redo = () => {\n      undoManager.redo();\n    };\n    return mergeRegister(editor.registerCommand(UNDO_COMMAND, () => {\n      undo();\n      return true;\n    }, COMMAND_PRIORITY_EDITOR), editor.registerCommand(REDO_COMMAND, () => {\n      redo();\n      return true;\n    }, COMMAND_PRIORITY_EDITOR));\n  });\n  const clearHistory = useCallback(() => {\n    undoManager.clear();\n  }, [undoManager]);\n\n  // Exposing undo and redo states\n  React.useEffect(() => {\n    const updateUndoRedoStates = () => {\n      editor.dispatchCommand(CAN_UNDO_COMMAND, undoManager.undoStack.length > 0);\n      editor.dispatchCommand(CAN_REDO_COMMAND, undoManager.redoStack.length > 0);\n    };\n    undoManager.on('stack-item-added', updateUndoRedoStates);\n    undoManager.on('stack-item-popped', updateUndoRedoStates);\n    undoManager.on('stack-cleared', updateUndoRedoStates);\n    return () => {\n      undoManager.off('stack-item-added', updateUndoRedoStates);\n      undoManager.off('stack-item-popped', updateUndoRedoStates);\n      undoManager.off('stack-cleared', updateUndoRedoStates);\n    };\n  }, [editor, undoManager]);\n  return clearHistory;\n}\nfunction initializeEditor(editor, initialEditorState) {\n  editor.update(() => {\n    const root = $getRoot();\n    if (root.isEmpty()) {\n      if (initialEditorState) {\n        switch (typeof initialEditorState) {\n          case 'string':\n            {\n              const parsedEditorState = editor.parseEditorState(initialEditorState);\n              editor.setEditorState(parsedEditorState, {\n                tag: 'history-merge'\n              });\n              break;\n            }\n          case 'object':\n            {\n              editor.setEditorState(initialEditorState, {\n                tag: 'history-merge'\n              });\n              break;\n            }\n          case 'function':\n            {\n              editor.update(() => {\n                const root1 = $getRoot();\n                if (root1.isEmpty()) {\n                  initialEditorState(editor);\n                }\n              }, {\n                tag: 'history-merge'\n              });\n              break;\n            }\n        }\n      } else {\n        const paragraph = $createParagraphNode();\n        root.append(paragraph);\n        const {\n          activeElement\n        } = document;\n        if ($getSelection() !== null || activeElement !== null && activeElement === editor.getRootElement()) {\n          paragraph.select();\n        }\n      }\n    }\n  }, {\n    tag: 'history-merge'\n  });\n}\nfunction clearEditorSkipCollab(editor, binding) {\n  // reset editor state\n  editor.update(() => {\n    const root = $getRoot();\n    root.clear();\n    root.select();\n  }, {\n    tag: 'skip-collab'\n  });\n  if (binding.cursors == null) {\n    return;\n  }\n  const cursors = binding.cursors;\n  if (cursors == null) {\n    return;\n  }\n  const cursorsContainer = binding.cursorsContainer;\n  if (cursorsContainer == null) {\n    return;\n  }\n\n  // reset cursors in dom\n  const cursorsArr = Array.from(cursors.values());\n  for (let i = 0; i < cursorsArr.length; i++) {\n    const cursor = cursorsArr[i];\n    const selection = cursor.selection;\n    if (selection && selection.selections != null) {\n      const selections = selection.selections;\n      for (let j = 0; j < selections.length; j++) {\n        cursorsContainer.removeChild(selections[i]);\n      }\n    }\n  }\n}\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction CollaborationPlugin({\n  id,\n  providerFactory,\n  shouldBootstrap,\n  username,\n  cursorColor,\n  cursorsContainerRef,\n  initialEditorState,\n  excludedProperties,\n  awarenessData\n}) {\n  const isBindingInitialized = useRef(false);\n  const isProviderInitialized = useRef(false);\n  const collabContext = useCollaborationContext(username, cursorColor);\n  const {\n    yjsDocMap,\n    name,\n    color\n  } = collabContext;\n  const [editor] = useLexicalComposerContext();\n  useEffect(() => {\n    collabContext.isCollabActive = true;\n    return () => {\n      // Reseting flag only when unmount top level editor collab plugin. Nested\n      // editors (e.g. image caption) should unmount without affecting it\n      if (editor._parentEditor == null) {\n        collabContext.isCollabActive = false;\n      }\n    };\n  }, [collabContext, editor]);\n  const [provider, setProvider] = useState();\n  useEffect(() => {\n    if (isProviderInitialized.current) {\n      return;\n    }\n    isProviderInitialized.current = true;\n    const newProvider = providerFactory(id, yjsDocMap);\n    setProvider(newProvider);\n    return () => {\n      newProvider.disconnect();\n    };\n  }, [id, providerFactory, yjsDocMap]);\n  const [doc, setDoc] = useState(yjsDocMap.get(id));\n  const [binding, setBinding] = useState();\n  useEffect(() => {\n    if (!provider) {\n      return;\n    }\n    if (isBindingInitialized.current) {\n      return;\n    }\n    isBindingInitialized.current = true;\n    const newBinding = createBinding(editor, provider, id, doc || yjsDocMap.get(id), yjsDocMap, excludedProperties);\n    setBinding(newBinding);\n    return () => {\n      newBinding.root.destroy(newBinding);\n    };\n  }, [editor, provider, id, yjsDocMap, doc, excludedProperties]);\n  if (!provider || !binding) {\n    return /*#__PURE__*/jsx(Fragment, {});\n  }\n  return /*#__PURE__*/jsx(YjsCollaborationCursors, {\n    awarenessData: awarenessData,\n    binding: binding,\n    collabContext: collabContext,\n    color: color,\n    cursorsContainerRef: cursorsContainerRef,\n    editor: editor,\n    id: id,\n    initialEditorState: initialEditorState,\n    name: name,\n    provider: provider,\n    setDoc: setDoc,\n    shouldBootstrap: shouldBootstrap,\n    yjsDocMap: yjsDocMap\n  });\n}\nfunction YjsCollaborationCursors({\n  editor,\n  id,\n  provider,\n  yjsDocMap,\n  name,\n  color,\n  shouldBootstrap,\n  cursorsContainerRef,\n  initialEditorState,\n  awarenessData,\n  collabContext,\n  binding,\n  setDoc\n}) {\n  const cursors = useYjsCollaboration(editor, id, provider, yjsDocMap, name, color, shouldBootstrap, binding, setDoc, cursorsContainerRef, initialEditorState, awarenessData);\n  collabContext.clientID = binding.clientID;\n  useYjsHistory(editor, binding);\n  useYjsFocusTracking(editor, provider, name, color, awarenessData);\n  return cursors;\n}\n\nexport { CollaborationPlugin };\n"],
  "mappings": "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",
  "names": []
}
